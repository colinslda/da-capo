<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>DA CAPO</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body class="bg-gray-900 text-white">
  <div class="container mx-auto p-4">
    
    <!-- Navigation -->
    <div class="flex justify-around bg-gray-800 p-3 fixed bottom-0 left-0 right-0">
      <button class="tab-button" onclick="switchTab('repertoire')">üéµ</button>
      <button class="tab-button" onclick="switchTab('metronome')">üé∂</button>
      <button class="tab-button" onclick="switchTab('chrono')">‚è±</button>
      <button class="tab-button" onclick="switchTab('profil')">üë§</button>
    </div>

    <!-- R√©pertoire -->
    <div id="repertoire" class="tab-content active p-4">
      <h2 class="text-2xl font-bold">R√©pertoire</h2>
      <form id="addPiece" class="flex flex-col space-y-3">
        <input type="text" id="pieceTitle" placeholder="Titre" class="input">
        <input type="text" id="composer" placeholder="Compositeur" class="input">
        <select id="pieceType" class="input">
          <option value="concerto">Concerto</option>
          <option value="sonate">Sonate</option>
          <option value="solo">Pi√®ce solo</option>
          <option value="technique">Technique</option>
        </select>
        <textarea id="notes" placeholder="Notes personnelles" class="input"></textarea>
        <button type="submit" class="btn">Ajouter</button>
      </form>
      <div id="piecesList" class="mt-4"></div>
    </div>

    <!-- M√©tronome -->
    <div id="metronome" class="tab-content hidden p-4">
      <h2 class="text-2xl font-bold">M√©tronome</h2>
      <div class="flex flex-col items-center">
        <div class="flex items-center space-x-3">
          <button id="bpmDown" class="btn">-</button>
          <div id="bpmValue" class="text-xl">120</div>
          <button id="bpmUp" class="btn">+</button>
        </div>
        <input type="range" id="bpmRange" min="40" max="240" value="120" class="w-full my-2">
        <button id="startStop" class="btn">D√©marrer</button>
      </div>
    </div>

    <!-- Chrono -->
    <div id="chrono" class="tab-content hidden p-4">
      <h2 class="text-2xl font-bold">Chrono</h2>
      <div class="flex flex-col items-center">
        <div id="chronoDisplay" class="text-3xl">00:00</div>
        <div class="flex space-x-2 mt-2">
          <button id="startChrono" class="btn">D√©marrer</button>
          <button id="stopChrono" class="btn">Arr√™ter</button>
          <button id="resetChrono" class="btn">R√©initialiser</button>
        </div>
      </div>
    </div>

    <!-- Profil -->
    <div id="profil" class="tab-content hidden p-4">
      <h2 class="text-2xl font-bold">Profil</h2>
      <div class="p-4 bg-gray-800 rounded-lg">
        <p><strong>Nom :</strong> <span id="userName">Chargement...</span></p>
        <p><strong>Email :</strong> <span id="userEmail">Chargement...</span></p>
        <h3 class="mt-4">Biographie</h3>
        <textarea id="userBio" class="input"></textarea>
        <button id="saveBio" class="btn">Enregistrer</button>
      </div>
      <button id="logout" class="btn bg-red-500 mt-3">D√©connexion</button>
    </div>
  </div>

  <script>
    function switchTab(tab) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
      document.getElementById(tab).classList.remove('hidden');
    }
  </script>
  
  <style>
    .tab-button { padding: 10px; background: none; color: white; font-size: 20px; }
    .btn { padding: 10px 15px; background: #4f46e5; color: white; border-radius: 10px; }
    .input { padding: 10px; width: 100%; background: #2d2d2d; color: white; border-radius: 10px; }
  </style>
</body>
</html>
